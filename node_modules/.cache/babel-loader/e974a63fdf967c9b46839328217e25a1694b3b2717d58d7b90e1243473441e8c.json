{"ast":null,"code":"import { ref, watchEffect } from 'vue';\nimport { useRoute } from 'vue-router';\nimport { useStore } from '@/stores/store';\nimport ModalComponent from '@/components/ModalComponent.vue';\nexport default {\n  __name: 'HouseDetailsView',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const route = useRoute();\n    const store = useStore();\n    const houseDetails = ref(null);\n    const isLoading = ref(true);\n    const showModal = ref(route.query.delete === \"true\");\n    watchEffect(async () => {\n      const idParam = route.params.id;\n      if (!idParam) return;\n      isLoading.value = true;\n      try {\n        const id = Number(idParam);\n        houseDetails.value = await store.getHouseById(id);\n      } catch (err) {\n        console.error('Error while fetching house:', err);\n        houseDetails.value = null;\n      } finally {\n        isLoading.value = false;\n      }\n    });\n    const __returned__ = {\n      route,\n      store,\n      houseDetails,\n      isLoading,\n      showModal,\n      ref,\n      watchEffect,\n      get useRoute() {\n        return useRoute;\n      },\n      get useStore() {\n        return useStore;\n      },\n      ModalComponent\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","watchEffect","useRoute","useStore","ModalComponent","route","store","houseDetails","isLoading","showModal","query","delete","idParam","params","id","value","Number","getHouseById","err","console","error"],"sources":["/home/kisa/dtt assessment/house-listings/src/views/HouseDetailsView.vue"],"sourcesContent":["<template>\n\n    <div class=\"house-details main\">\n    <!-- Loader -->\n    <div v-if=\"isLoading\" class=\"main-house-card --loading\">\n      Loading house...\n    </div>\n\n    <!-- Error / not found -->\n    <div v-else-if=\"!houseDetails\" class=\"main-house-card --loading\">\n      House not found\n    </div>\n\n    <!-- Only render when data exists -->\n    <article v-else class=\"main-house-card\">\n\n    <router-link to=\"/\" class=\"btn btn-back\">\n      <picture>\n          <!-- Small devices -->\n          <source srcset=\"../assets/ic_back_white@3x.png\" media=\"(max-width: 768px)\">\n          <!-- Large devices -->\n          <source srcset=\"../assets/ic_back_grey@3x.png\">\n          <img class=\"btn-back-icon\" src=\"../assets/ic_back_grey@3x.png\" alt=\"Back\">\n      </picture> \n      <span class=\"btn-back-label\">Back to overview</span>\n    </router-link>\n\n    <!-- Small devices -->\n    <div class=\"house-actions-sm\" v-if=\"houseDetails?.madeByMe\">\n      <router-link\n        :to=\"{ name: 'HouseEditView', params: { id: $route.params.id }}\"\n        class=\"btn btn-edit\">\n          <img class=\"btn-edit-icon\" src=\"../assets/ic_edit_white@3x.png\" alt=\"Edit\" />\n      </router-link>\n\n      <button class=\"btn btn-delete\" @click=\"showModal = true\">\n          <img class=\"btn-delete-icon\" src=\"../assets/ic_delete_white@3x.png\" alt=\"Delete\" />\n      </button>\n    </div>\n\n      <img\n        class=\"main-house-card-image\"\n        :src=\"houseDetails?.image\"\n        alt=\"House\"\n      />\n\n      <!-- to delete and edit only my houses, two options\n          <button v-if=\"houseDetails.madeByMe\">Edit</button>\n      <button v-if=\"houseDetails.madeByMe\">Delete</button>\n\n      <div v-if=\"houseDetails?.madeByMe\" class=\"owner-actions\">\n          <button class=\"btn-edit\">Edit</button>\n          <button class=\"btn-delete\">Delete</button>\n      </div> -->\n\n      <div class=\"main-house-card-info\">\n        <div class=\"main-house-card-header\">\n          <h3 class=\"main-house-card-title\">\n            {{ houseDetails?.location?.street }} {{ houseDetails?.location?.houseNumber }}\n          </h3>\n\n          <!-- Large devices -->\n          <div class=\"house-actions\" v-if=\"houseDetails?.madeByMe\">\n            <router-link\n              :to=\"{ name: 'HouseEditView', params: { id: $route.params.id }}\"\n              class=\"btn btn-edit\">\n                <img class=\"btn-edit-icon\" src=\"../assets/ic_edit@3x.png\" alt=\"Edit\" />\n            </router-link>\n\n            <button class=\"btn btn-delete\" @click=\"showModal = true\">\n                <img class=\"btn-delete-icon\" src=\"../assets/ic_delete@3x.png\" alt=\"Delete\" />\n            </button>\n          </div>\n      </div>\n\n        <p class=\"main-house-card-meta\">\n          <span class=\"meta-item\">\n            <img src=\"../assets/ic_location@3x.png\" alt=\"Location\" />\n            {{ houseDetails?.location?.zip }} {{ houseDetails?.location?.city }}\n          </span>\n        </p>\n\n        <p class=\"main-house-card-meta\">\n          <span class=\"meta-item\">\n            <img src=\"../assets/ic_price@3x.png\" alt=\"Price\" />\n            {{ houseDetails?.price }}\n          </span>\n\n          <span class=\"meta-item\">\n            <img src=\"../assets/ic_size@3x.png\" alt=\"Size\" />\n            {{ houseDetails?.size }} m2\n          </span>\n\n          <span class=\"meta-item\">\n            <img src=\"../assets/ic_construction_date@3x.png\" alt=\"Construction Year\" />\n            Built in {{ houseDetails?.constructionYear }}\n          </span>\n        </p>\n\n        <p class=\"main-house-card-meta\">\n          <span class=\"meta-item\">\n            <img src=\"../assets/ic_bed@3x.png\" alt=\"Bed\" />\n            {{ houseDetails?.rooms?.bedrooms }}\n          </span>\n\n          <span class=\"meta-item\">\n            <img src=\"../assets/ic_bath@3x.png\" alt=\"Bath\" />\n            {{ houseDetails?.rooms?.bathrooms }}\n          </span>\n\n          <span class=\"meta-item\">\n            <img src=\"../assets/ic_garage@3x.png\" alt=\"Garage\" />\n            {{ houseDetails?.hasGarage ? 'Yes' : 'No' }}\n          </span>\n        </p>\n        \n        <p class=\"main-house-card-description\">\n          {{ houseDetails?.description }}\n        </p>\n\n      </div>\n    </article>\n\n    <div class=\"recommended-houses\">Im Recommended!</div>\n    <ModalComponent v-if=\"showModal\" :house=\"houseDetails\" @close=\"showModal = false\"/>\n  </div>\n</template>\n\n<script setup>\nimport { ref, watchEffect } from 'vue'\nimport { useRoute } from 'vue-router'\nimport { useStore } from '@/stores/store'\nimport ModalComponent from '@/components/ModalComponent.vue'\n\nconst route = useRoute()\nconst store = useStore()\n\nconst houseDetails = ref(null)\nconst isLoading = ref(true)\nconst showModal = ref(route.query.delete === \"true\");\n\nwatchEffect(async () => {\n  const idParam = route.params.id\n  if (!idParam) return\n\n  isLoading.value = true\n  try {\n    const id = Number(idParam)\n    houseDetails.value = await store.getHouseById(id)\n  } catch (err) {\n    console.error('Error while fetching house:', err)\n    houseDetails.value = null\n  } finally {\n    isLoading.value = false\n  }\n})\n</script>\n"],"mappings":"AAiIA,SAASA,GAAG,EAAEC,WAAW,QAAQ,KAAI;AACrC,SAASC,QAAQ,QAAQ,YAAW;AACpC,SAASC,QAAQ,QAAQ,gBAAe;AACxC,OAAOC,cAAc,MAAM,iCAAgC;;;;;;;IAE3D,MAAMC,KAAK,GAAGH,QAAQ,CAAC;IACvB,MAAMI,KAAK,GAAGH,QAAQ,CAAC;IAEvB,MAAMI,YAAY,GAAGP,GAAG,CAAC,IAAI;IAC7B,MAAMQ,SAAS,GAAGR,GAAG,CAAC,IAAI;IAC1B,MAAMS,SAAS,GAAGT,GAAG,CAACK,KAAK,CAACK,KAAK,CAACC,MAAM,KAAK,MAAM,CAAC;IAEpDV,WAAW,CAAC,YAAY;MACtB,MAAMW,OAAO,GAAGP,KAAK,CAACQ,MAAM,CAACC,EAAC;MAC9B,IAAI,CAACF,OAAO,EAAE;MAEdJ,SAAS,CAACO,KAAK,GAAG,IAAG;MACrB,IAAI;QACF,MAAMD,EAAE,GAAGE,MAAM,CAACJ,OAAO;QACzBL,YAAY,CAACQ,KAAK,GAAG,MAAMT,KAAK,CAACW,YAAY,CAACH,EAAE;MAClD,CAAC,CAAC,OAAOI,GAAG,EAAE;QACZC,OAAO,CAACC,KAAK,CAAC,6BAA6B,EAAEF,GAAG;QAChDX,YAAY,CAACQ,KAAK,GAAG,IAAG;MAC1B,CAAC,SAAS;QACRP,SAAS,CAACO,KAAK,GAAG,KAAI;MACxB;IACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}