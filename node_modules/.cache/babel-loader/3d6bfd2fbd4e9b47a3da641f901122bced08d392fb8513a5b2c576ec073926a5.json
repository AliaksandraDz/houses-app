{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nimport _imports_0 from '../assets/ic_bed@3x.png';\nimport _imports_1 from '../assets/ic_bath@3x.png';\nimport _imports_2 from '../assets/ic_size@3x.png';\nconst _hoisted_1 = {\n  class: \"house-details\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"main-house-card\"\n};\nconst _hoisted_3 = [\"src\"];\nconst _hoisted_4 = {\n  class: \"house-card-info\"\n};\nconst _hoisted_5 = {\n  class: \"house-card-title\"\n};\nconst _hoisted_6 = {\n  class: \"house-card-price\"\n};\nconst _hoisted_7 = {\n  class: \"house-card-address\"\n};\nconst _hoisted_8 = {\n  class: \"house-card-meta\"\n};\nconst _hoisted_9 = {\n  class: \"meta-item\"\n};\nconst _hoisted_10 = {\n  class: \"meta-item\"\n};\nconst _hoisted_11 = {\n  class: \"meta-item\"\n};\nconst _hoisted_12 = {\n  key: 1,\n  class: \"main-house-card --loading\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" show loader or fallback while fetching \"), $setup.houseDetails ? (_openBlock(), _createElementBlock(\"article\", _hoisted_2, [_createElementVNode(\"img\", {\n    class: \"house-card-image\",\n    src: $setup.houseDetails.image,\n    alt: \"House\"\n  }, null, 8 /* PROPS */, _hoisted_3), _createCommentVNode(\" to delete and edit only my houses, two options\\n            <button v-if=\\\"houseDetails.madeByMe\\\">Edit</button>\\n        <button v-if=\\\"houseDetails.madeByMe\\\">Delete</button>\\n\\n        <div v-if=\\\"houseDetails?.madeByMe\\\" class=\\\"owner-actions\\\">\\n            <button class=\\\"btn-edit\\\">Edit</button>\\n            <button class=\\\"btn-delete\\\">Delete</button>\\n        </div> \"), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"h3\", _hoisted_5, _toDisplayString($setup.houseDetails.location.street) + \" \" + _toDisplayString($setup.houseDetails.location.houseNumber), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_6, \"€ \" + _toDisplayString($setup.houseDetails.price), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_7, _toDisplayString($setup.houseDetails.location.zip) + \" \" + _toDisplayString($setup.houseDetails.location.city), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_8, [_createElementVNode(\"span\", _hoisted_9, [_cache[0] || (_cache[0] = _createElementVNode(\"img\", {\n    src: _imports_0,\n    alt: \"Bed\"\n  }, null, -1 /* CACHED */)), _createTextVNode(\" \" + _toDisplayString($setup.houseDetails.rooms.bedrooms), 1 /* TEXT */)]), _createElementVNode(\"span\", _hoisted_10, [_cache[1] || (_cache[1] = _createElementVNode(\"img\", {\n    src: _imports_1,\n    alt: \"Bath\"\n  }, null, -1 /* CACHED */)), _createTextVNode(\" \" + _toDisplayString($setup.houseDetails.rooms.bathrooms), 1 /* TEXT */)]), _createElementVNode(\"span\", _hoisted_11, [_cache[2] || (_cache[2] = _createElementVNode(\"img\", {\n    src: _imports_2,\n    alt: \"Size\"\n  }, null, -1 /* CACHED */)), _createTextVNode(\" \" + _toDisplayString($setup.houseDetails.size) + \" m2 \", 1 /* TEXT */)])])])])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_12, \" Loading house... \")), _cache[3] || (_cache[3] = _createElementVNode(\"div\", {\n    class: \"recommended-houses\"\n  }, \"Im Recommended!\", -1 /* CACHED */))]);\n}","map":{"version":3,"names":["_imports_0","_imports_1","_imports_2","class","_createElementBlock","_hoisted_1","_createCommentVNode","$setup","houseDetails","_hoisted_2","_createElementVNode","src","image","alt","_hoisted_4","_hoisted_5","_toDisplayString","location","street","houseNumber","_hoisted_6","price","_hoisted_7","zip","city","_hoisted_8","_hoisted_9","rooms","bedrooms","_hoisted_10","bathrooms","_hoisted_11","size","_hoisted_12"],"sources":["/home/kisa/dtt assessment/house-listings/src/views/HouseDetails.vue"],"sourcesContent":["<template>\n    <div class=\"house-details\">\n      <!-- show loader or fallback while fetching -->\n      <article class=\"main-house-card\" v-if=\"houseDetails\">\n        <img\n          class=\"house-card-image\"\n          :src=\"houseDetails.image\"\n          alt=\"House\"\n        />\n\n        <!-- to delete and edit only my houses, two options\n            <button v-if=\"houseDetails.madeByMe\">Edit</button>\n        <button v-if=\"houseDetails.madeByMe\">Delete</button>\n\n        <div v-if=\"houseDetails?.madeByMe\" class=\"owner-actions\">\n            <button class=\"btn-edit\">Edit</button>\n            <button class=\"btn-delete\">Delete</button>\n        </div> -->\n\n        <div class=\"house-card-info\">\n          <h3 class=\"house-card-title\">\n            {{ houseDetails.location.street }} {{ houseDetails.location.houseNumber }}\n          </h3>\n  \n          <p class=\"house-card-price\">€ {{ houseDetails.price }}</p>\n          <p class=\"house-card-address\">\n            {{ houseDetails.location.zip }} {{ houseDetails.location.city }}\n          </p>\n  \n          <p class=\"house-card-meta\">\n            <span class=\"meta-item\">\n              <img src=\"../assets/ic_bed@3x.png\" alt=\"Bed\" />\n              {{ houseDetails.rooms.bedrooms }}\n            </span>\n  \n            <span class=\"meta-item\">\n              <img src=\"../assets/ic_bath@3x.png\" alt=\"Bath\" />\n              {{ houseDetails.rooms.bathrooms }}\n            </span>\n  \n            <span class=\"meta-item\">\n              <img src=\"../assets/ic_size@3x.png\" alt=\"Size\" />\n              {{ houseDetails.size }} m2\n            </span>\n          </p>\n        </div>\n      </article>\n  \n      <div v-else class=\"main-house-card --loading\">\n        Loading house...\n      </div>\n  \n      <div class=\"recommended-houses\">Im Recommended!</div>\n    </div>\n  </template>\n  \n  <script setup>\n  import { ref, watchEffect } from 'vue';\n  import { useRoute, useRouter } from 'vue-router';\n  import { useStore } from '@/stores/store'; // keep as you had it\n  \n  const route = useRoute();\n  const router = useRouter();\n  const store = useStore();\n  \n  const houseDetails = ref(null);\n  const isLoading = ref(true);\n  \n  const fetchData = async () => {\n    // if no id in params, bail out early\n    const idParam = route.params.id;\n    if (!idParam) {\n      houseDetails.value = null;\n      isLoading.value = false;\n      return;\n    }\n  \n    isLoading.value = true;\n    console.log('isLoading :', isLoading.value);\n    try {\n      // ensure houses are loaded (your store should handle caching if needed)\n      await store.getHouses();\n      console.log('Fetched houses:', store.houses);\n  \n      const id = parseInt(idParam, 10);\n      const found = store.houses.find((h) => h.id === id);\n  \n      if (found) {\n        houseDetails.value = found;\n        console.log('Found house:', houseDetails.value);\n      } else {\n        console.error(`House with ID ${idParam} not found.`);\n        houseDetails.value = null;\n        // optional: redirect back to list if not found\n        // router.replace({ name: 'HousesList' });\n      }\n    } catch (err) {\n      console.error('Error while fetching houses:', err);\n      houseDetails.value = null;\n    } finally {\n      isLoading.value = false;\n      console.log('isLoading :', isLoading.value);\n    }\n  };\n  \n  // re-run fetch when route.params.id changes\n  watchEffect(() => {\n    // watchEffect will re-run when route.params.id changes because route is reactive\n    fetchData();\n  });\n  </script>\n  "],"mappings":";OA+BmBA,UAA6B;OAK7BC,UAA8B;OAK9BC,UAA8B;;EAxCxCC,KAAK,EAAC;AAAe;;;EAEfA,KAAK,EAAC;;;;EAgBRA,KAAK,EAAC;AAAiB;;EACtBA,KAAK,EAAC;AAAkB;;EAIzBA,KAAK,EAAC;AAAkB;;EACxBA,KAAK,EAAC;AAAoB;;EAI1BA,KAAK,EAAC;AAAiB;;EAClBA,KAAK,EAAC;AAAW;;EAKjBA,KAAK,EAAC;AAAW;;EAKjBA,KAAK,EAAC;AAAW;;;EAQjBA,KAAK,EAAC;;;uBA/CpBC,mBAAA,CAoDM,OApDNC,UAoDM,GAnDJC,mBAAA,4CAA+C,EACRC,MAAA,CAAAC,YAAY,I,cAAnDJ,mBAAA,CA2CU,WA3CVK,UA2CU,GA1CRC,mBAAA,CAIE;IAHAP,KAAK,EAAC,kBAAkB;IACvBQ,GAAG,EAAEJ,MAAA,CAAAC,YAAY,CAACI,KAAK;IACxBC,GAAG,EAAC;uCAGNP,mBAAA,+XAOU,EAEVI,mBAAA,CA0BM,OA1BNI,UA0BM,GAzBJJ,mBAAA,CAEK,MAFLK,UAEK,EAAAC,gBAAA,CADAT,MAAA,CAAAC,YAAY,CAACS,QAAQ,CAACC,MAAM,IAAG,GAAC,GAAAF,gBAAA,CAAGT,MAAA,CAAAC,YAAY,CAACS,QAAQ,CAACE,WAAW,kBAGzET,mBAAA,CAA0D,KAA1DU,UAA0D,EAA9B,IAAE,GAAAJ,gBAAA,CAAGT,MAAA,CAAAC,YAAY,CAACa,KAAK,kBACnDX,mBAAA,CAEI,KAFJY,UAEI,EAAAN,gBAAA,CADCT,MAAA,CAAAC,YAAY,CAACS,QAAQ,CAACM,GAAG,IAAG,GAAC,GAAAP,gBAAA,CAAGT,MAAA,CAAAC,YAAY,CAACS,QAAQ,CAACO,IAAI,kBAG/Dd,mBAAA,CAeI,KAfJe,UAeI,GAdFf,mBAAA,CAGO,QAHPgB,UAGO,G,0BAFLhB,mBAAA,CAA+C;IAA1CC,GAA6B,EAA7BX,UAA6B;IAACa,GAAG,EAAC;+CAAQ,GAC/C,GAAAG,gBAAA,CAAGT,MAAA,CAAAC,YAAY,CAACmB,KAAK,CAACC,QAAQ,iB,GAGhClB,mBAAA,CAGO,QAHPmB,WAGO,G,0BAFLnB,mBAAA,CAAiD;IAA5CC,GAA8B,EAA9BV,UAA8B;IAACY,GAAG,EAAC;+CAAS,GACjD,GAAAG,gBAAA,CAAGT,MAAA,CAAAC,YAAY,CAACmB,KAAK,CAACG,SAAS,iB,GAGjCpB,mBAAA,CAGO,QAHPqB,WAGO,G,0BAFLrB,mBAAA,CAAiD;IAA5CC,GAA8B,EAA9BT,UAA8B;IAACW,GAAG,EAAC;+CAAS,GACjD,GAAAG,gBAAA,CAAGT,MAAA,CAAAC,YAAY,CAACwB,IAAI,IAAG,MACzB,gB,0BAKN5B,mBAAA,CAEM,OAFN6B,WAEM,EAFwC,oBAE9C,I,0BAEAvB,mBAAA,CAAqD;IAAhDP,KAAK,EAAC;EAAoB,GAAC,iBAAe,oB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}