{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.find.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport { openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, createBlock as _createBlock } from \"vue\";\nimport _imports_0 from '../assets/ic_back_white@3x.png';\nimport _imports_1 from '../assets/ic_back_grey@3x.png';\nimport _imports_2 from '../assets/ic_edit_white@3x.png';\nimport _imports_3 from '../assets/ic_delete_white@3x.png';\nimport _imports_4 from '../assets/ic_edit@3x.png';\nimport _imports_5 from '../assets/ic_delete@3x.png';\nimport _imports_6 from '../assets/ic_location@3x.png';\nimport _imports_7 from '../assets/ic_price@3x.png';\nimport _imports_8 from '../assets/ic_size@3x.png';\nimport _imports_9 from '../assets/ic_construction_date@3x.png';\nimport _imports_10 from '../assets/ic_bed@3x.png';\nimport _imports_11 from '../assets/ic_bath@3x.png';\nimport _imports_12 from '../assets/ic_garage@3x.png';\nconst _hoisted_1 = _imports_0;\nconst _hoisted_2 = _imports_1;\nconst _hoisted_3 = {\n  class: \"house-details main\"\n};\nconst _hoisted_4 = {\n  key: 0,\n  class: \"main-house-card --loading\"\n};\nconst _hoisted_5 = {\n  key: 1,\n  class: \"main-house-card --loading\"\n};\nconst _hoisted_6 = {\n  key: 2,\n  class: \"main-house-card\"\n};\nconst _hoisted_7 = {\n  key: 0,\n  class: \"house-actions-sm\"\n};\nconst _hoisted_8 = [\"src\"];\nconst _hoisted_9 = {\n  class: \"main-house-card-info\"\n};\nconst _hoisted_10 = {\n  class: \"main-house-card-header\"\n};\nconst _hoisted_11 = {\n  class: \"main-house-card-title\"\n};\nconst _hoisted_12 = {\n  key: 0,\n  class: \"house-actions\"\n};\nconst _hoisted_13 = {\n  class: \"main-house-card-meta\"\n};\nconst _hoisted_14 = {\n  class: \"meta-item\"\n};\nconst _hoisted_15 = {\n  class: \"main-house-card-meta\"\n};\nconst _hoisted_16 = {\n  class: \"meta-item\"\n};\nconst _hoisted_17 = {\n  class: \"meta-item\"\n};\nconst _hoisted_18 = {\n  class: \"meta-item\"\n};\nconst _hoisted_19 = {\n  class: \"main-house-card-meta\"\n};\nconst _hoisted_20 = {\n  class: \"meta-item\"\n};\nconst _hoisted_21 = {\n  class: \"meta-item\"\n};\nconst _hoisted_22 = {\n  class: \"meta-item\"\n};\nconst _hoisted_23 = {\n  class: \"main-house-card-description\"\n};\nconst _hoisted_24 = {\n  class: \"recommended-houses\"\n};\nconst _hoisted_25 = [\"onClick\"];\nconst _hoisted_26 = [\"src\"];\nconst _hoisted_27 = {\n  class: \"recommended-card-text\"\n};\nconst _hoisted_28 = {\n  class: \"recommended-house-card-title\"\n};\nconst _hoisted_29 = {\n  class: \"recommended-house-card-price\"\n};\nconst _hoisted_30 = {\n  class: \"recommended-house-card-location\"\n};\nconst _hoisted_31 = {\n  class: \"recommended-house-meta\"\n};\nconst _hoisted_32 = {\n  class: \"meta-item\"\n};\nconst _hoisted_33 = {\n  class: \"meta-item\"\n};\nconst _hoisted_34 = {\n  class: \"meta-item\"\n};\nimport { ref, watch } from 'vue';\nimport { useRoute, useRouter } from 'vue-router';\nimport { useStore } from '@/stores/store';\nimport ModalComponent from '@/components/ModalComponent.vue';\n\n/* -----------------------------------\n* Router and Store\n* ------------------------------------\n* route is used to access route params & query (house id, delete flag)\n* router is used for navigation to other house detail pages\n* store is used for holding all houses\n*/\n\nexport default {\n  __name: 'HouseDetailsView',\n  setup(__props) {\n    const route = useRoute();\n    const router = useRouter();\n    const store = useStore();\n\n    /* -----------------------------------\n    * Reactive state\n    * ------------------------------------\n    * houseDetails is used for a currently selected house\n    * isLoading controls loading UI\n    * showModal controls delete confirmation modal\n    * recommendations is a list of recommended houses\n    */\n\n    const houseDetails = ref(null);\n    const isLoading = ref(true);\n    const showModal = ref(route.query.delete === \"true\");\n    const recommendations = ref([]);\n\n    /* -----------------------------------\n    * Fetch house data and recommendations\n    * ------------------------------------\n    * 1. Fetch all houses (if not already loaded)\n    * 2. Find current house by id\n    * 3. Generate recommendations based on price similarity\n    */\n\n    const fetchData = async id => {\n      isLoading.value = true;\n      try {\n        await store.getHouses();\n        const currentHouse = store.houses.find(h => h.id === id);\n        if (!currentHouse) {\n          houseDetails.value = null;\n          recommendations.value = [];\n          return;\n        }\n        houseDetails.value = currentHouse;\n        recommendations.value = store.houses.filter(h => h.id !== id).map(h => ({\n          ...h,\n          priceDiff: Math.abs(currentHouse.price - h.price)\n        })).sort((a, b) => a.priceDiff - b.priceDiff).slice(0, 3);\n      } catch (err) {\n        console.error('Error while fetching house:', err);\n        houseDetails.value = null;\n        recommendations.value = [];\n      } finally {\n        isLoading.value = false;\n      }\n    };\n\n    /* -----------------------------------\n    * Watch route changes\n    * ------------------------------------\n    * Re-fetch data when:\n    * - user navigates to another house\n    * - component is loaded for the first time\n    */\n\n    watch(() => route.params.id, id => {\n      if (!id) return;\n      fetchData(Number(id));\n    }, {\n      immediate: true\n    });\n    const navigateToHouseDetails = houseId => {\n      router.push({\n        name: 'HouseDetailsView',\n        params: {\n          id: houseId\n        }\n      });\n    };\n    return (_ctx, _cache) => {\n      const _component_router_link = _resolveComponent(\"router-link\");\n      return _openBlock(), _createElementBlock(\"div\", _hoisted_3, [isLoading.value ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, \" Loading house... \")) : !houseDetails.value ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, \" House not found \")) : (_openBlock(), _createElementBlock(\"article\", _hoisted_6, [_createVNode(_component_router_link, {\n        to: \"/\",\n        class: \"btn btn-back\"\n      }, {\n        default: _withCtx(() => [...(_cache[3] || (_cache[3] = [_createElementVNode(\"picture\", null, [_createElementVNode(\"source\", {\n          srcset: _hoisted_1,\n          media: \"(max-width: 768px)\"\n        }), _createElementVNode(\"source\", {\n          srcset: _hoisted_2\n        }), _createElementVNode(\"img\", {\n          class: \"btn-back-icon\",\n          src: _imports_1,\n          alt: \"Back\"\n        })], -1), _createElementVNode(\"span\", {\n          class: \"btn-back-label\"\n        }, \"Back to overview\", -1)]))]),\n        _: 1\n      }), houseDetails.value?.madeByMe ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [_createVNode(_component_router_link, {\n        to: {\n          name: 'HouseEditView',\n          params: {\n            id: _ctx.$route.params.id\n          }\n        },\n        class: \"btn btn-edit\"\n      }, {\n        default: _withCtx(() => [...(_cache[4] || (_cache[4] = [_createElementVNode(\"img\", {\n          class: \"btn-edit-icon\",\n          src: _imports_2,\n          alt: \"Edit\"\n        }, null, -1)]))]),\n        _: 1\n      }, 8, [\"to\"]), _createElementVNode(\"button\", {\n        class: \"btn btn-delete\",\n        onClick: _cache[0] || (_cache[0] = $event => showModal.value = true)\n      }, [...(_cache[5] || (_cache[5] = [_createElementVNode(\"img\", {\n        class: \"btn-delete-icon\",\n        src: _imports_3,\n        alt: \"Delete\"\n      }, null, -1)]))])])) : _createCommentVNode(\"\", true), _createElementVNode(\"img\", {\n        class: \"main-house-card-image\",\n        src: houseDetails.value?.image,\n        alt: \"House\"\n      }, null, 8, _hoisted_8), _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"h1\", _hoisted_11, _toDisplayString(houseDetails.value?.location?.street) + \" \" + _toDisplayString(houseDetails.value?.location?.houseNumber), 1), houseDetails.value?.madeByMe ? (_openBlock(), _createElementBlock(\"div\", _hoisted_12, [_createVNode(_component_router_link, {\n        to: {\n          name: 'HouseEditView',\n          params: {\n            id: _ctx.$route.params.id\n          }\n        },\n        class: \"btn btn-edit\"\n      }, {\n        default: _withCtx(() => [...(_cache[6] || (_cache[6] = [_createElementVNode(\"img\", {\n          class: \"btn-edit-icon\",\n          src: _imports_4,\n          alt: \"Edit\"\n        }, null, -1)]))]),\n        _: 1\n      }, 8, [\"to\"]), _createElementVNode(\"button\", {\n        class: \"btn btn-delete\",\n        onClick: _cache[1] || (_cache[1] = $event => showModal.value = true)\n      }, [...(_cache[7] || (_cache[7] = [_createElementVNode(\"img\", {\n        class: \"btn-delete-icon\",\n        src: _imports_5,\n        alt: \"Delete\"\n      }, null, -1)]))])])) : _createCommentVNode(\"\", true)]), _createElementVNode(\"p\", _hoisted_13, [_createElementVNode(\"span\", _hoisted_14, [_cache[8] || (_cache[8] = _createElementVNode(\"img\", {\n        src: _imports_6,\n        alt: \"Location\"\n      }, null, -1)), _createTextVNode(\" \" + _toDisplayString(houseDetails.value?.location?.zip) + \" \" + _toDisplayString(houseDetails.value?.location?.city), 1)])]), _createElementVNode(\"p\", _hoisted_15, [_createElementVNode(\"span\", _hoisted_16, [_cache[9] || (_cache[9] = _createElementVNode(\"img\", {\n        src: _imports_7,\n        alt: \"Price\"\n      }, null, -1)), _createTextVNode(\" \" + _toDisplayString(houseDetails.value?.price), 1)]), _createElementVNode(\"span\", _hoisted_17, [_cache[10] || (_cache[10] = _createElementVNode(\"img\", {\n        src: _imports_8,\n        alt: \"Size\"\n      }, null, -1)), _createTextVNode(\" \" + _toDisplayString(houseDetails.value?.size) + \" m2 \", 1)]), _createElementVNode(\"span\", _hoisted_18, [_cache[11] || (_cache[11] = _createElementVNode(\"img\", {\n        src: _imports_9,\n        alt: \"Construction Year\"\n      }, null, -1)), _createTextVNode(\" Built in \" + _toDisplayString(houseDetails.value?.constructionYear), 1)])]), _createElementVNode(\"p\", _hoisted_19, [_createElementVNode(\"span\", _hoisted_20, [_cache[12] || (_cache[12] = _createElementVNode(\"img\", {\n        src: _imports_10,\n        alt: \"Bed\"\n      }, null, -1)), _createTextVNode(\" \" + _toDisplayString(houseDetails.value?.rooms?.bedrooms), 1)]), _createElementVNode(\"span\", _hoisted_21, [_cache[13] || (_cache[13] = _createElementVNode(\"img\", {\n        src: _imports_11,\n        alt: \"Bath\"\n      }, null, -1)), _createTextVNode(\" \" + _toDisplayString(houseDetails.value?.rooms?.bathrooms), 1)]), _createElementVNode(\"span\", _hoisted_22, [_cache[14] || (_cache[14] = _createElementVNode(\"img\", {\n        src: _imports_12,\n        alt: \"Garage\"\n      }, null, -1)), _createTextVNode(\" \" + _toDisplayString(houseDetails.value?.hasGarage ? 'Yes' : 'No'), 1)])]), _createElementVNode(\"p\", _hoisted_23, _toDisplayString(houseDetails.value?.description), 1)])])), _createElementVNode(\"div\", _hoisted_24, [_cache[18] || (_cache[18] = _createElementVNode(\"h2\", null, \"Recommended for you\", -1)), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(recommendations.value, recommendedHouse => {\n        return _openBlock(), _createElementBlock(\"div\", {\n          key: recommendedHouse.id,\n          class: \"recommended-house\"\n        }, [_createElementVNode(\"div\", {\n          class: \"recommended-card-info\",\n          onClick: $event => navigateToHouseDetails(recommendedHouse.id)\n        }, [_createElementVNode(\"img\", {\n          src: recommendedHouse.image,\n          class: \"recommended-card-info-img\",\n          alt: \"House Image\"\n        }, null, 8, _hoisted_26), _createElementVNode(\"div\", _hoisted_27, [_createElementVNode(\"h3\", _hoisted_28, _toDisplayString(recommendedHouse.location.street) + \" \" + _toDisplayString(recommendedHouse.location.houseNumber), 1), _createElementVNode(\"p\", _hoisted_29, \"€ \" + _toDisplayString(recommendedHouse.price), 1), _createElementVNode(\"p\", _hoisted_30, _toDisplayString(recommendedHouse.location.zip) + \" \" + _toDisplayString(recommendedHouse.location.city), 1), _createElementVNode(\"p\", _hoisted_31, [_createElementVNode(\"span\", _hoisted_32, [_cache[15] || (_cache[15] = _createElementVNode(\"img\", {\n          src: _imports_10,\n          alt: \"Bed\"\n        }, null, -1)), _createTextVNode(\" \" + _toDisplayString(recommendedHouse.rooms.bedrooms), 1)]), _createElementVNode(\"span\", _hoisted_33, [_cache[16] || (_cache[16] = _createElementVNode(\"img\", {\n          src: _imports_11,\n          alt: \"Bath\"\n        }, null, -1)), _createTextVNode(\" \" + _toDisplayString(recommendedHouse.rooms.bathrooms), 1)]), _createElementVNode(\"span\", _hoisted_34, [_cache[17] || (_cache[17] = _createElementVNode(\"img\", {\n          src: _imports_8,\n          alt: \"Size\"\n        }, null, -1)), _createTextVNode(\" \" + _toDisplayString(recommendedHouse.size) + \" m2 \", 1)])])])], 8, _hoisted_25)]);\n      }), 128))]), showModal.value && houseDetails.value ? (_openBlock(), _createBlock(ModalComponent, {\n        key: 3,\n        house: houseDetails.value,\n        onClose: _cache[2] || (_cache[2] = $event => showModal.value = false)\n      }, null, 8, [\"house\"])) : _createCommentVNode(\"\", true)]);\n    };\n  }\n};","map":{"version":3,"names":["ref","watch","useRoute","useRouter","useStore","ModalComponent","route","router","store","houseDetails","isLoading","showModal","query","delete","recommendations","fetchData","id","value","getHouses","currentHouse","houses","find","h","filter","map","priceDiff","Math","abs","price","sort","a","b","slice","err","console","error","params","Number","immediate","navigateToHouseDetails","houseId","push","name","_createElementBlock","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_createVNode","_component_router_link","to","class","_cache","_createElementVNode","srcset","_hoisted_1","media","_hoisted_2","src","_imports_1","alt","madeByMe","_hoisted_7","_ctx","$route","_imports_2","onClick","$event","_imports_3","image","_hoisted_9","_hoisted_10","_hoisted_11","_toDisplayString","location","street","houseNumber","_hoisted_12","_imports_4","_imports_5","_hoisted_13","_hoisted_14","_imports_6","zip","city","_hoisted_15","_hoisted_16","_imports_7","_hoisted_17","_imports_8","size","_hoisted_18","_imports_9","constructionYear","_hoisted_19","_hoisted_20","_imports_10","rooms","bedrooms","_hoisted_21","_imports_11","bathrooms","_hoisted_22","_imports_12","hasGarage","_hoisted_23","description","_hoisted_24","_Fragment","_renderList","recommendedHouse","key","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_createBlock","house","onClose"],"sources":["/home/kisa/dtt assessment/house-listings/src/views/HouseDetailsView.vue"],"sourcesContent":["<template>\n\n    <div class=\"house-details main\">\n    <!-- Loader -->\n    <div v-if=\"isLoading\" class=\"main-house-card --loading\">\n      Loading house...\n    </div>\n\n    <!-- Error / not found -->\n    <div v-else-if=\"!houseDetails\" class=\"main-house-card --loading\">\n      House not found\n    </div>\n\n    <!-- Only render when data exists -->\n    <article v-else class=\"main-house-card\">\n\n    <router-link to=\"/\" class=\"btn btn-back\">\n      <picture>\n          <!-- Small devices -->\n          <source srcset=\"../assets/ic_back_white@3x.png\" media=\"(max-width: 768px)\">\n          <!-- Large devices -->\n          <source srcset=\"../assets/ic_back_grey@3x.png\">\n          <img class=\"btn-back-icon\" src=\"../assets/ic_back_grey@3x.png\" alt=\"Back\">\n      </picture> \n      <span class=\"btn-back-label\">Back to overview</span>\n    </router-link>\n\n    <!-- Small devices -->\n    <div class=\"house-actions-sm\" v-if=\"houseDetails?.madeByMe\">\n      <router-link\n        :to=\"{ name: 'HouseEditView', params: { id: $route.params.id }}\"\n        class=\"btn btn-edit\">\n          <img class=\"btn-edit-icon\" src=\"../assets/ic_edit_white@3x.png\" alt=\"Edit\" />\n      </router-link>\n\n      <button class=\"btn btn-delete\" @click=\"showModal = true\">\n          <img class=\"btn-delete-icon\" src=\"../assets/ic_delete_white@3x.png\" alt=\"Delete\" />\n      </button>\n    </div>\n\n      <img\n        class=\"main-house-card-image\"\n        :src=\"houseDetails?.image\"\n        alt=\"House\"\n      />\n\n      <div class=\"main-house-card-info\">\n        <div class=\"main-house-card-header\">\n          <h1 class=\"main-house-card-title\">\n            {{ houseDetails?.location?.street }} {{ houseDetails?.location?.houseNumber }}\n          </h1>\n\n          <!-- Large devices -->\n          <div class=\"house-actions\" v-if=\"houseDetails?.madeByMe\">\n            <router-link\n              :to=\"{ name: 'HouseEditView', params: { id: $route.params.id }}\"\n              class=\"btn btn-edit\">\n                <img class=\"btn-edit-icon\" src=\"../assets/ic_edit@3x.png\" alt=\"Edit\" />\n            </router-link>\n\n            <button class=\"btn btn-delete\" @click=\"showModal = true\">\n                <img class=\"btn-delete-icon\" src=\"../assets/ic_delete@3x.png\" alt=\"Delete\" />\n            </button>\n          </div>\n      </div>\n\n        <p class=\"main-house-card-meta\">\n          <span class=\"meta-item\">\n            <img src=\"../assets/ic_location@3x.png\" alt=\"Location\" />\n            {{ houseDetails?.location?.zip }} {{ houseDetails?.location?.city }}\n          </span>\n        </p>\n\n        <p class=\"main-house-card-meta\">\n          <span class=\"meta-item\">\n            <img src=\"../assets/ic_price@3x.png\" alt=\"Price\" />\n            {{ houseDetails?.price }}\n          </span>\n\n          <span class=\"meta-item\">\n            <img src=\"../assets/ic_size@3x.png\" alt=\"Size\" />\n            {{ houseDetails?.size }} m2\n          </span>\n\n          <span class=\"meta-item\">\n            <img src=\"../assets/ic_construction_date@3x.png\" alt=\"Construction Year\" />\n            Built in {{ houseDetails?.constructionYear }}\n          </span>\n        </p>\n\n        <p class=\"main-house-card-meta\">\n          <span class=\"meta-item\">\n            <img src=\"../assets/ic_bed@3x.png\" alt=\"Bed\" />\n            {{ houseDetails?.rooms?.bedrooms }}\n          </span>\n\n          <span class=\"meta-item\">\n            <img src=\"../assets/ic_bath@3x.png\" alt=\"Bath\" />\n            {{ houseDetails?.rooms?.bathrooms }}\n          </span>\n\n          <span class=\"meta-item\">\n            <img src=\"../assets/ic_garage@3x.png\" alt=\"Garage\" />\n            {{ houseDetails?.hasGarage ? 'Yes' : 'No' }}\n          </span>\n        </p>\n        \n        <p class=\"main-house-card-description\">\n          {{ houseDetails?.description }}\n        </p>\n\n      </div>\n    </article>\n\n    <div class=\"recommended-houses\">\n      <h2>Recommended for you</h2>\n      <div v-for=\"recommendedHouse in recommendations\" :key=\"recommendedHouse.id\" class=\"recommended-house\">\n          <div class=\"recommended-card-info\" @click=\"navigateToHouseDetails(recommendedHouse.id)\">\n              <img :src=\"recommendedHouse.image\" class=\"recommended-card-info-img\" alt=\"House Image\" />\n              <div class=\"recommended-card-text\">\n                  <h3 class=\"recommended-house-card-title\">{{ recommendedHouse.location.street }} {{ recommendedHouse.location.houseNumber }}</h3>\n                  <p class=\"recommended-house-card-price\">€ {{ recommendedHouse.price }} </p>\n                  <p class=\"recommended-house-card-location\">{{ recommendedHouse.location.zip }} {{ recommendedHouse.location.city }}</p>\n                  <p class=\"recommended-house-meta\">\n                    <span class=\"meta-item\">\n                      <img src=\"../assets/ic_bed@3x.png\" alt=\"Bed\" /> {{ recommendedHouse.rooms.bedrooms }}\n                    </span> \n                    <span class=\"meta-item\">\n                      <img src=\"../assets/ic_bath@3x.png\" alt=\"Bath\" /> {{ recommendedHouse.rooms.bathrooms }}\n                    </span>\n                    <span class=\"meta-item\">\n                      <img src=\"../assets/ic_size@3x.png\" alt=\"Size\" /> {{ recommendedHouse.size }} m2\n                    </span>\n                  </p>\n              </div>\n          </div>\n      </div>\n    </div>\n    <ModalComponent v-if=\"showModal && houseDetails\" :house=\"houseDetails\" @close=\"showModal = false\"/>\n  </div>\n</template>\n\n<script setup>\nimport { ref, watch } from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\nimport { useStore } from '@/stores/store'\nimport ModalComponent from '@/components/ModalComponent.vue'\n\n/* -----------------------------------\n* Router and Store\n* ------------------------------------\n* route is used to access route params & query (house id, delete flag)\n* router is used for navigation to other house detail pages\n* store is used for holding all houses\n*/\n\nconst route = useRoute()\nconst router = useRouter()\nconst store = useStore()\n\n/* -----------------------------------\n* Reactive state\n* ------------------------------------\n* houseDetails is used for a currently selected house\n* isLoading controls loading UI\n* showModal controls delete confirmation modal\n* recommendations is a list of recommended houses\n*/\n\nconst houseDetails = ref(null)\nconst isLoading = ref(true)\nconst showModal = ref(route.query.delete === \"true\");\nconst recommendations = ref([]);\n\n/* -----------------------------------\n* Fetch house data and recommendations\n* ------------------------------------\n* 1. Fetch all houses (if not already loaded)\n* 2. Find current house by id\n* 3. Generate recommendations based on price similarity\n*/\n\nconst fetchData = async (id) => {\n  isLoading.value = true\n\n  try {\n\n    await store.getHouses()\n\n    const currentHouse = store.houses.find(h => h.id === id)\n    if (!currentHouse) {\n      houseDetails.value = null\n      recommendations.value = []\n      return\n    }\n\n    houseDetails.value = currentHouse\n\n    recommendations.value = store.houses\n      .filter(h => h.id !== id)\n      .map(h => ({\n        ...h,\n        priceDiff: Math.abs(currentHouse.price - h.price)\n      }))\n      .sort((a, b) => a.priceDiff - b.priceDiff)\n      .slice(0, 3)\n\n  } catch (err) {\n    console.error('Error while fetching house:', err)\n    houseDetails.value = null\n    recommendations.value = []\n  } finally {\n    isLoading.value = false\n  }\n}\n\n/* -----------------------------------\n* Watch route changes\n* ------------------------------------\n* Re-fetch data when:\n* - user navigates to another house\n* - component is loaded for the first time\n*/\n\nwatch(\n  () => route.params.id,\n  (id) => {\n    if (!id) return\n    fetchData(Number(id))\n  },\n  { immediate: true }\n)\n\nconst navigateToHouseDetails = (houseId) => {\n    router.push({ name: 'HouseDetailsView', params: { id: houseId } });\n};\n\n</script>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}