{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, unref as _unref, vModelText as _vModelText, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, createBlock as _createBlock, vShow as _vShow } from \"vue\";\nimport _imports_0 from '../assets/ic_plus_grey@3x.png';\nimport _imports_1 from '../assets/ic_plus_white@3x.png';\nimport _imports_2 from '../assets/ic_search@3x.png';\nimport _imports_3 from '../assets/ic_clear@3x.png';\nimport _imports_4 from '../assets/img_empty_houses@3x.png';\nconst _hoisted_1 = {\n  class: \"houses-page main\"\n};\nconst _hoisted_2 = {\n  class: \"houses-header\"\n};\nconst _hoisted_3 = {\n  class: \"houses-controls\"\n};\nconst _hoisted_4 = {\n  class: \"search-bar\"\n};\nconst _hoisted_5 = {\n  class: \"sort-toggle\"\n};\nconst _hoisted_6 = {\n  key: 0,\n  class: \"search-result\"\n};\nconst _hoisted_7 = {\n  key: 1,\n  class: \"search-result\"\n};\nconst _hoisted_8 = {\n  key: 0,\n  class: \"loading\"\n};\nconst _hoisted_9 = {\n  key: 1,\n  class: \"houses-list\"\n};\nconst _hoisted_10 = {\n  class: \"no-results\"\n};\nimport { ref, watchEffect } from 'vue';\nimport { onMounted } from 'vue';\nimport HouseListingComponent from '@/components/HouseListingComponent.vue';\nimport { useStore } from '@/stores/store';\nexport default {\n  __name: 'HomeView',\n  setup(__props) {\n    const store = useStore();\n    const isLoading = ref(true);\n    const fetchData = async () => {\n      isLoading.value = true;\n      await store.getHouses();\n      isLoading.value = false;\n    };\n    watchEffect(() => {\n      fetchData();\n    });\n    onMounted(() => {\n      store.getHouses();\n    });\n    return (_ctx, _cache) => {\n      const _component_router_link = _resolveComponent(\"router-link\");\n      return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"section\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_cache[5] || (_cache[5] = _createElementVNode(\"h1\", {\n        class: \"houses-title\"\n      }, \"Houses\", -1)), _createVNode(_component_router_link, {\n        to: {\n          name: 'HouseCreateView'\n        },\n        class: \"create-link\"\n      }, {\n        default: _withCtx(() => [...(_cache[4] || (_cache[4] = [_createElementVNode(\"button\", {\n          class: \"btn btn-primary btn-create\"\n        }, [_createElementVNode(\"img\", {\n          src: _imports_0,\n          alt: \"Create\",\n          class: \"btn-create-icon-sm\"\n        }), _createElementVNode(\"img\", {\n          src: _imports_1,\n          alt: \"Create\",\n          class: \"btn-create-icon-lg\"\n        }), _createElementVNode(\"span\", {\n          class: \"btn-create-label\"\n        }, \"Create new\")], -1)]))]),\n        _: 1\n      })]), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_cache[7] || (_cache[7] = _createElementVNode(\"button\", {\n        class: \"search-bar-icon\",\n        type: \"button\"\n      }, [_createElementVNode(\"img\", {\n        src: _imports_2,\n        alt: \"Search\"\n      })], -1)), _withDirectives(_createElementVNode(\"input\", {\n        type: \"text\",\n        class: \"search-bar-input\",\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => _unref(store).searchInput = $event),\n        placeholder: \"Search for a house\"\n      }, null, 512), [[_vModelText, _unref(store).searchInput]]), _unref(store).searchInput.length > 0 ? (_openBlock(), _createElementBlock(\"button\", {\n        key: 0,\n        class: \"search-bar-clear\",\n        type: \"button\",\n        onClick: _cache[1] || (_cache[1] = $event => _unref(store).searchInput = '')\n      }, [...(_cache[6] || (_cache[6] = [_createElementVNode(\"img\", {\n        src: _imports_3,\n        alt: \"Clear\"\n      }, null, -1)]))])) : _createCommentVNode(\"\", true)]), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"button\", {\n        class: _normalizeClass([\"sort-toggle-btn\", {\n          'sort-toggle-btn--active': _unref(store).isActive === 'price'\n        }]),\n        onClick: _cache[2] || (_cache[2] = $event => _unref(store).isActive = 'price'),\n        type: \"button\"\n      }, \" Price \", 2), _createElementVNode(\"button\", {\n        class: _normalizeClass([\"sort-toggle-btn\", {\n          'sort-toggle-btn--active': _unref(store).isActive === 'size'\n        }]),\n        onClick: _cache[3] || (_cache[3] = $event => _unref(store).isActive = 'size'),\n        type: \"button\"\n      }, \" Size \", 2)])]), _unref(store).searchInput.length > 0 && _unref(store).filteredHouses.length == 1 ? (_openBlock(), _createElementBlock(\"h2\", _hoisted_6, _toDisplayString(_unref(store).filteredHouses.length) + \" result found \", 1)) : _unref(store).searchInput.length > 0 && _unref(store).filteredHouses.length > 0 ? (_openBlock(), _createElementBlock(\"h2\", _hoisted_7, _toDisplayString(_unref(store).filteredHouses.length) + \" results found \", 1)) : _createCommentVNode(\"\", true)]), isLoading.value ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, \"Loading...\")) : (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(store).filteredHouses, house => {\n        return _openBlock(), _createBlock(HouseListingComponent, {\n          key: house.id,\n          house: house\n        }, null, 8, [\"house\"]);\n      }), 128)), _withDirectives(_createElementVNode(\"div\", _hoisted_10, [...(_cache[8] || (_cache[8] = [_createElementVNode(\"img\", {\n        src: _imports_4,\n        alt: \"No results\"\n      }, null, -1), _createElementVNode(\"p\", {\n        class: \"no-results-text\"\n      }, \"No results found.\", -1), _createElementVNode(\"p\", null, \"Please try another keyword.\", -1)]))], 512), [[_vShow, _unref(store).filteredHouses.length === 0]])]))], 64);\n    };\n  }\n};","map":{"version":3,"names":["ref","watchEffect","onMounted","HouseListingComponent","useStore","store","isLoading","fetchData","value","getHouses","_createElementVNode","_hoisted_1","_hoisted_2","class","_createVNode","_component_router_link","to","name","_cache","src","_imports_0","alt","_imports_1","_hoisted_3","_hoisted_4","type","_imports_2","_unref","searchInput","$event","placeholder","length","_createElementBlock","onClick","_imports_3","_hoisted_5","_normalizeClass","isActive","filteredHouses","_hoisted_6","_toDisplayString","_hoisted_7","_hoisted_8","_hoisted_9","_Fragment","_renderList","house","_createBlock","key","id","_hoisted_10","_imports_4"],"sources":["/home/kisa/dtt assessment/house-listings/src/views/HomeView.vue"],"sourcesContent":["<template>\n    <section class=\"houses-page main\">\n\n    <!-- Top row: title + create button -->\n    <div class=\"houses-header\">\n      <h1 class=\"houses-title\">Houses</h1>\n\n      <router-link :to=\"{ name: 'HouseCreateView' }\" class=\"create-link\">\n        <button class=\"btn btn-primary btn-create\">\n          <img\n            src=\"../assets/ic_plus_grey@3x.png\"\n            alt=\"Create\"\n            class=\"btn-create-icon-sm\"\n          />\n          <img\n            src=\"../assets/ic_plus_white@3x.png\"\n            alt=\"Create\"\n            class=\"btn-create-icon-lg\"\n          />\n          <span class=\"btn-create-label\">Create new</span>\n        </button>\n      </router-link>\n      </div>\n\n    <!-- Search + sort controls -->\n    <div class=\"houses-controls\">\n\n      <!-- Search -->\n      <div class=\"search-bar\">\n        <button class=\"search-bar-icon\" type=\"button\">\n          <img src=\"../assets/ic_search@3x.png\" alt=\"Search\" />\n        </button>\n\n        <input\n          type=\"text\"\n          class=\"search-bar-input\"\n          v-model=\"store.searchInput\"\n          placeholder=\"Search for a house\"\n        />\n\n        <button\n          v-if=\"store.searchInput.length > 0\"\n          class=\"search-bar-clear\"\n          type=\"button\"\n          @click=\"store.searchInput = ''\"\n        >\n          <img src=\"../assets/ic_clear@3x.png\" alt=\"Clear\" />\n        </button>\n      </div>\n\n      <!-- Price / size toggle -->\n      <div class=\"sort-toggle\">\n        <button\n          class=\"sort-toggle-btn\"\n          :class=\"{ 'sort-toggle-btn--active': store.isActive === 'price' }\"\n          @click=\"store.isActive = 'price'\"\n          type=\"button\"\n        >\n          Price\n        </button>\n        <button\n          class=\"sort-toggle-btn\"\n          :class=\"{ 'sort-toggle-btn--active': store.isActive === 'size' }\"\n          @click=\"store.isActive = 'size'\"\n          type=\"button\"\n        >\n          Size\n        </button>\n      </div>\n    </div>\n\n    <!-- Results counter -->\n    <h2 v-if=\"store.searchInput.length > 0 && store.filteredHouses.length == 1\" \n      class=\"search-result\">\n      {{ store.filteredHouses.length }} result found\n    </h2>\n    <h2 v-else-if=\"store.searchInput.length > 0 && store.filteredHouses.length > 0\" \n      class=\"search-result\">\n      {{ store.filteredHouses.length }} results found\n    </h2>\n\n  </section>\n\n  <!-- List of houses -->\n  <div v-if=\"isLoading\" class=\"loading\">Loading...</div>\n  <div v-else class=\"houses-list\">\n    <HouseListingComponent v-for=\"house in store.filteredHouses\" :key=\"house.id\" :house=\"house\" />\n    <div v-show=\"store.filteredHouses.length === 0\" class=\"no-results\">\n      <img src=\"../assets/img_empty_houses@3x.png\" alt=\"No results\" />\n      <p class=\"no-results-text\">No results found.</p>\n      <p>Please try another keyword.</p>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, watchEffect } from 'vue'\nimport { onMounted } from 'vue';\nimport HouseListingComponent from '@/components/HouseListingComponent.vue'\nimport { useStore } from '@/stores/store'\n\nconst store = useStore();\nconst isLoading = ref(true);\n\nconst fetchData = async () => {\n  isLoading.value = true;\n  await store.getHouses()\n  isLoading.value = false;\n}\n\nwatchEffect(() => {\n  fetchData();\n});\n\nonMounted(() => {\n  store.getHouses();\n});\n</script>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}