{"ast":null,"code":"import { ref, watchEffect } from 'vue';\nimport { useRoute } from 'vue-router';\nimport { useStore } from '@/stores/store';\nexport default {\n  __name: 'HouseDetailsView',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const route = useRoute();\n    const store = useStore();\n    const houseDetails = ref(null);\n    const isLoading = ref(true); // start as true\n\n    watchEffect(async () => {\n      const idParam = route.params.id;\n      if (!idParam) return;\n      isLoading.value = true;\n      try {\n        const id = Number(idParam);\n        houseDetails.value = await store.getHouseById(id);\n      } catch (err) {\n        console.error('Error while fetching house:', err);\n        houseDetails.value = null;\n      } finally {\n        isLoading.value = false;\n      }\n    });\n    const __returned__ = {\n      route,\n      store,\n      houseDetails,\n      isLoading,\n      ref,\n      watchEffect,\n      get useRoute() {\n        return useRoute;\n      },\n      get useStore() {\n        return useStore;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","watchEffect","useRoute","useStore","route","store","houseDetails","isLoading","idParam","params","id","value","Number","getHouseById","err","console","error"],"sources":["/home/kisa/dtt assessment/house-listings/src/views/HouseDetailsView.vue"],"sourcesContent":["<template>\n    <div class=\"house-details\">\n    <!-- Loader -->\n    <div v-if=\"isLoading\" class=\"main-house-card --loading\">\n      Loading house...\n    </div>\n\n    <!-- Error / not found -->\n    <div v-else-if=\"!houseDetails\" class=\"main-house-card --loading\">\n      House not found\n    </div>\n\n    <!-- Only render when data exists -->\n    <article v-else class=\"main-house-card\">\n      <img\n        class=\"house-card-image\"\n        :src=\"houseDetails?.image\"\n        alt=\"House\"\n      />\n\n      <!-- to delete and edit only my houses, two options\n          <button v-if=\"houseDetails.madeByMe\">Edit</button>\n      <button v-if=\"houseDetails.madeByMe\">Delete</button>\n\n      <div v-if=\"houseDetails?.madeByMe\" class=\"owner-actions\">\n          <button class=\"btn-edit\">Edit</button>\n          <button class=\"btn-delete\">Delete</button>\n      </div> -->\n\n      <div class=\"house-card-info\">\n        <h3 class=\"house-card-title\">\n          {{ houseDetails?.location?.street }} {{ houseDetails?.location?.houseNumber }}\n        </h3>\n\n        <p class=\"house-card-price\">â‚¬ {{ houseDetails.price }}</p>\n        <p class=\"house-card-address\">\n          {{ houseDetails?.location?.zip }} {{ houseDetails?.location?.city }}\n        </p>\n\n        <p class=\"house-card-meta\">\n          <span class=\"meta-item\">\n            <img src=\"../assets/ic_bed@3x.png\" alt=\"Bed\" />\n            {{ houseDetails?.rooms?.bedrooms }}\n          </span>\n\n          <span class=\"meta-item\">\n            <img src=\"../assets/ic_bath@3x.png\" alt=\"Bath\" />\n            {{ houseDetails?.rooms?.bathrooms }}\n          </span>\n\n          <span class=\"meta-item\">\n            <img src=\"../assets/ic_size@3x.png\" alt=\"Size\" />\n            {{ houseDetails?.size }} m2\n          </span>\n        </p>\n        \n        <p class=\"house-card-description\">\n          {{ houseDetails?.description }}\n        </p>\n\n      </div>\n    </article>\n\n    <div class=\"recommended-houses\">Im Recommended!</div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, watchEffect } from 'vue'\nimport { useRoute } from 'vue-router'\nimport { useStore } from '@/stores/store'\n\nconst route = useRoute()\nconst store = useStore()\n\nconst houseDetails = ref(null)\nconst isLoading = ref(true) // start as true\n\nwatchEffect(async () => {\n  const idParam = route.params.id\n  if (!idParam) return\n\n  isLoading.value = true\n  try {\n    const id = Number(idParam)\n    houseDetails.value = await store.getHouseById(id)\n  } catch (err) {\n    console.error('Error while fetching house:', err)\n    houseDetails.value = null\n  } finally {\n    isLoading.value = false\n  }\n})\n</script>\n"],"mappings":"AAoEA,SAASA,GAAG,EAAEC,WAAW,QAAQ,KAAI;AACrC,SAASC,QAAQ,QAAQ,YAAW;AACpC,SAASC,QAAQ,QAAQ,gBAAe;;;;;;;IAExC,MAAMC,KAAK,GAAGF,QAAQ,CAAC;IACvB,MAAMG,KAAK,GAAGF,QAAQ,CAAC;IAEvB,MAAMG,YAAY,GAAGN,GAAG,CAAC,IAAI;IAC7B,MAAMO,SAAS,GAAGP,GAAG,CAAC,IAAI,CAAC,EAAC;;IAE5BC,WAAW,CAAC,YAAY;MACtB,MAAMO,OAAO,GAAGJ,KAAK,CAACK,MAAM,CAACC,EAAC;MAC9B,IAAI,CAACF,OAAO,EAAE;MAEdD,SAAS,CAACI,KAAK,GAAG,IAAG;MACrB,IAAI;QACF,MAAMD,EAAE,GAAGE,MAAM,CAACJ,OAAO;QACzBF,YAAY,CAACK,KAAK,GAAG,MAAMN,KAAK,CAACQ,YAAY,CAACH,EAAE;MAClD,CAAC,CAAC,OAAOI,GAAG,EAAE;QACZC,OAAO,CAACC,KAAK,CAAC,6BAA6B,EAAEF,GAAG;QAChDR,YAAY,CAACK,KAAK,GAAG,IAAG;MAC1B,CAAC,SAAS;QACRJ,SAAS,CAACI,KAAK,GAAG,KAAI;MACxB;IACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}